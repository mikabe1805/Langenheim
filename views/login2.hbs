<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Auth0-enabled Login Page</title>
</head>
<body>

  <!-- Create a login button -->
  <button id="login-btn">Login with Auth0</button>

  <!-- Include your bundled JavaScript file -->
  <script src="https://cdn.auth0.com/js/auth0/9.18/auth0.min.js"></script>

<script>
    // Create Auth0 instance
    const auth0Config({
      domain: 'dev-bhkftzl8wc0atcup.us.auth0.com',
      clientID: 'MvskgbwJ1B5u2qRoyeuFJ9PpiOq6dr46',
      redirectUri: 'https://langenheim-a07134ab155c.herokuapp.com',
    });

    const authh = new auth0.WebAuth(auth0Config);

    // Attach event listener to the login button
    document.getElementById('login-btn').addEventListener('click', () => {
      // Trigger Auth0 authentication process
      authh.authorize();
    });

    // Handle Auth0 callback
    authh.parseHash((err, authResult) => {
      if (authResult && authResult.accessToken && authResult.idToken) {
        // User is authenticated, you can fetch user details and display them.
        authh.client.userInfo(authResult.accessToken, (err, user) => {
          console.log(user);
          // You can now handle the authenticated user, e.g., redirect to a dashboard page.
        });
      } else if (err) {
        console.error(err);
      }
    });
  </script>

</body>
</html>
